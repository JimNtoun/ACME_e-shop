CREATE TABLE "JNS17"."CUSTOMERS" 
(	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL ENABLE, 
"FNAME" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
"LNAME" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
"EMAIL" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
"PHONE" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
"ADDRESS" VARCHAR2(100 BYTE) NOT NULL ENABLE, 
"CITY" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
"CATEGORY" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
CONSTRAINT "CUSTOMERS_CHK1" CHECK (category IN ('B2C', 'B2B', 'B2G')) ENABLE, 
CONSTRAINT "CUSTOMER_PK" PRIMARY KEY ("ID")
USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS"  ENABLE
) SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS" ;

CREATE TABLE "JNS17"."PRODUCTS" 
(	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL ENABLE, 
"PNAME" VARCHAR2(100 BYTE) NOT NULL ENABLE, 
"PRICE" NUMBER(*,0) NOT NULL ENABLE, 
CONSTRAINT "PRODUCTS_PK" PRIMARY KEY ("ID")
USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS"  ENABLE, 
CONSTRAINT "PRODUCTS_UK1" UNIQUE ("PNAME")
USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS"  ENABLE
) SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS" ;

CREATE TABLE "JNS17"."ORDERS" 
(	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL ENABLE, 
"STATUS" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
"ORDERDATE" DATE NOT NULL ENABLE, 
"PAYMENT" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
"CUSTID" NUMBER NOT NULL ENABLE, 
CONSTRAINT "ORDERS_CHK1" CHECK (payment IN ('Cash', 'Card')) ENABLE, 
CONSTRAINT "ORDERS_CHK2" CHECK (status IN ('Pending', 'Delivered')) ENABLE, 
CONSTRAINT "ORDERS_PK" PRIMARY KEY ("ID")
USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS"  ENABLE, 
CONSTRAINT "ORDERS_UK1" UNIQUE ("CUSTID")
USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS"  ENABLE, 
CONSTRAINT "ORDERS_FK1" FOREIGN KEY ("ID")
REFERENCES "JNS17"."CUSTOMERS" ("ID") ENABLE
) SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS" ;

CREATE TABLE "JNS17"."ORDERITEMS" 
(	"ORDERID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL ENABLE, 
"PNAME" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
"QUANTITY" NUMBER(*,0) NOT NULL ENABLE, 
CONSTRAINT "ORDERITEMS_PK" PRIMARY KEY ("ORDERID")
USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS"  ENABLE, 
CONSTRAINT "ORDERITEMS_FK1" FOREIGN KEY ("ORDERID")
REFERENCES "JNS17"."ORDERS" ("ID") ENABLE, 
CONSTRAINT "ORDERITEMS_FK2" FOREIGN KEY ("PNAME")
REFERENCES "JNS17"."PRODUCTS" ("PNAME") ENABLE
) SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "USERS" ;

INSERT INTO customers(FNAME, LNAME, EMAIL, PHONE, ADDRESS, CITY, CATEGORY)
VALUES('Tom', 'Hanks', 'fff@gmail.com', '6980000001', '...', 'Athens', 'B2B');
INSERT INTO customers(FNAME, LNAME, EMAIL, PHONE, ADDRESS, CITY, CATEGORY)
VALUES('Bob', 'Marley', 'pg@gmail.com', '6980000002', '...', 'Athens', 'B2C');
INSERT INTO customers(FNAME, LNAME, EMAIL, PHONE, ADDRESS, CITY, CATEGORY)
VALUES('Ben', 'Affleck', 'sth@gmail.com', '6980000003', '...', 'Athens', 'B2G');

INSERT INTO products(pname, price)
VALUES('A', 30);
INSERT INTO products(pname, price)
VALUES('B', 40);
INSERT INTO products(pname, price)
VALUES('C', 50);
INSERT INTO products(pname, price)
VALUES('D', 100);
INSERT INTO products(pname, price)
VALUES('E', 10);
INSERT INTO products(pname, price)
VALUES('CC', 70);

INSERT INTO orders(status, orderdate, payment, custid)
VALUES('Pending', DATE '2022-07-27', 'Card', 3);

INSERT INTO orderitems(orderid, pname, quantity)
VALUES(1, 'A', 3);